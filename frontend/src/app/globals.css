@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================================
   TASKLEAF - PREMIUM GLASS UI
   Beautiful light & dark modes
   =========================================== */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

/* ===========================================
   BASE LAYER - GLOBAL STYLES
   =========================================== */

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-['Inter'] antialiased;
    background: linear-gradient(135deg, #F4F9F8 0%, #ffffff 50%, #f0fdfa 100%);
    @apply text-patina-900;
    @apply transition-colors duration-300;
    @apply min-h-screen;
  }

  /* Dark mode background - Deep teal gradient */
  .dark body {
    background: linear-gradient(135deg, #030712 0%, #1a2928 50%, #030712 100%) !important;
    @apply text-teal-50;
  }

  /* Headings */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold text-patina-800;
  }

  .dark h1,
  .dark h2,
  .dark h3,
  .dark h4,
  .dark h5,
  .dark h6 {
    @apply text-teal-100;
  }

  /* Links */
  a {
    @apply text-patina-600 hover:text-patina-700 transition-colors;
  }

  .dark a {
    @apply text-teal-400 hover:text-teal-300;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-patina-100/30 rounded-full;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-patina-400/40 rounded-full hover:bg-patina-500/50;
  }

  .dark ::-webkit-scrollbar-track {
    @apply bg-gray-900/30;
  }

  .dark ::-webkit-scrollbar-thumb {
    @apply bg-teal-500/40 hover:bg-teal-400/60;
  }

  /* shadcn/ui CSS Variables */
  :root {
    /* Teal/Patina Light Theme */
    --background: 174 40% 97%;
    --foreground: 174 25% 20%;
    --card: 0 0% 100%;
    --card-foreground: 174 25% 20%;
    --popover: 0 0% 100%;
    --popover-foreground: 174 25% 20%;
    --primary: 174 45% 48%;
    --primary-foreground: 0 0% 100%;
    --secondary: 174 40% 90%;
    --secondary-foreground: 174 25% 20%;
    --muted: 174 30% 94%;
    --muted-foreground: 174 15% 45%;
    --accent: 174 70% 70%;
    --accent-foreground: 174 25% 15%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    --border: 174 30% 85%;
    --input: 174 30% 90%;
    --ring: 174 45% 48%;
    --radius: 1rem;

    /* Chart colors */
    --chart-1: 174 70% 70%;
    --chart-2: 174 60% 60%;
    --chart-3: 174 50% 50%;
    --chart-4: 174 40% 40%;
    --chart-5: 174 30% 30%;
  }

  .dark {
    /* Premium Dark Theme with Teal Accents */
    --background: 174 50% 4%;
    --foreground: 174 15% 95%;
    --card: 174 40% 8%;
    --card-foreground: 174 15% 95%;
    --popover: 174 45% 6%;
    --popover-foreground: 174 15% 95%;
    --primary: 174 70% 60%;
    --primary-foreground: 174 40% 5%;
    --secondary: 174 30% 12%;
    --secondary-foreground: 174 15% 95%;
    --muted: 174 25% 15%;
    --muted-foreground: 174 10% 65%;
    --accent: 174 60% 50%;
    --accent-foreground: 174 15% 95%;
    --destructive: 0 63% 50%;
    --destructive-foreground: 0 0% 98%;
    --border: 174 30% 18%;
    --input: 174 30% 15%;
    --ring: 174 60% 50%;

    /* Chart colors for dark mode */
    --chart-1: 174 70% 60%;
    --chart-2: 174 60% 55%;
    --chart-3: 174 50% 50%;
    --chart-4: 174 40% 45%;
    --chart-5: 174 30% 40%;
  }
}

/* ===========================================
   COMPONENT LAYER - REUSABLE PATTERNS
   =========================================== */

@layer components {
  /* Glass Card - Premium frosted glass effect */
  .glass-card {
    @apply bg-white/80 backdrop-blur-xl border border-white/40;
    @apply shadow-xl rounded-3xl;
    @apply transition-all duration-300;
  }

  .dark .glass-card {
    background: linear-gradient(135deg, rgba(19, 78, 74, 0.35) 0%, rgba(38, 59, 57, 0.3) 50%, rgba(17, 94, 89, 0.25) 100%);
    @apply backdrop-blur-2xl border border-teal-600/10;
    @apply shadow-2xl shadow-black/50;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(45, 212, 191, 0.1);
  }

  /* Sidebar card - seamless dark mode */
  .sidebar-card {
    @apply bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl;
    @apply border border-white/40;
  }

  .dark .sidebar-card {
    background: rgba(17, 94, 89, 0.4) !important;
    @apply backdrop-blur-2xl shadow-black/30;
    border: none !important;
  }

  /* Sync Now button styling */
  .sync-now-btn {
    @apply text-blue-600 bg-blue-50;
    @apply hover:bg-blue-100;
  }

  .dark .sync-now-btn {
    @apply text-teal-200 hover:text-white;
    background: rgba(15, 118, 110, 0.5) !important;
  }

  .dark .sync-now-btn:hover {
    background: rgba(15, 118, 110, 0.7) !important;
  }

  /* Google Calendar Sync Section in Modal */
  .google-sync-section {
    background: linear-gradient(135deg, rgba(239, 246, 255, 0.6) 0%, rgba(238, 242, 255, 0.4) 100%);
    border: 1px solid rgba(191, 219, 254, 0.4);
  }

  .dark .google-sync-section {
    background: rgba(17, 94, 89, 0.35) !important;
    border: none !important;
  }

  /* Glass Sidebar */
  .glass-sidebar {
    @apply bg-white/60 backdrop-blur-2xl;
    @apply border-r border-patina-200/30;
    @apply transition-all duration-300;
  }

  .dark .glass-sidebar {
    background: linear-gradient(180deg, rgba(3, 7, 18, 0.8) 0%, rgba(26, 41, 40, 0.7) 50%, rgba(3, 7, 18, 0.8) 100%);
    @apply backdrop-blur-2xl border-r border-teal-800/20;
  }

  /* Glass Navigation */
  .glass-nav {
    @apply bg-white/70 backdrop-blur-xl;
    @apply border-b border-patina-200/30;
    @apply shadow-sm;
  }

  .dark .glass-nav {
    background: linear-gradient(90deg, rgba(3, 7, 18, 0.9) 0%, rgba(26, 41, 40, 0.8) 50%, rgba(3, 7, 18, 0.9) 100%);
    @apply backdrop-blur-xl border-b border-teal-800/20;
    @apply shadow-lg shadow-black/20;
  }

  /* Sidebar Item */
  .sidebar-item {
    @apply flex items-center gap-4 w-full px-6 py-5;
    @apply text-patina-600 rounded-2xl;
    @apply transition-all duration-200;
    @apply hover:bg-patina-100/60 hover:text-patina-800;
  }

  .dark .sidebar-item {
    @apply text-teal-300/70;
    @apply hover:text-teal-200;
  }

  .dark .sidebar-item:hover {
    background: linear-gradient(90deg, rgba(20, 184, 166, 0.1) 0%, rgba(73, 131, 124, 0.05) 100%);
  }

  .sidebar-item-active {
    @apply bg-gradient-to-r from-patina-100 to-teal-100/50;
    @apply text-patina-800 font-medium;
  }

  .dark .sidebar-item-active {
    background: linear-gradient(90deg, rgba(20, 184, 166, 0.2) 0%, rgba(73, 131, 124, 0.1) 100%);
    @apply text-teal-200;
    @apply shadow-lg shadow-teal-500/10;
  }

  /* Icon Button */
  .icon-btn {
    @apply p-3 rounded-full transition-all duration-200;
    @apply hover:bg-patina-100/60 active:scale-95;
  }

  .dark .icon-btn {
    @apply hover:bg-teal-500/10 hover:text-teal-400;
    @apply active:bg-teal-500/20;
  }

  /* Card with hover effect */
  .card-hover {
    @apply transition-all duration-300;
    @apply hover:shadow-2xl hover:-translate-y-1;
  }

  .dark .card-hover:hover {
    @apply shadow-teal-500/20;
  }

  /* Priority Badges */
  .badge-high {
    @apply inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium;
    @apply bg-red-100 text-red-700 border border-red-200;
  }

  .dark .badge-high {
    @apply bg-red-500/20 text-red-300 border-red-500/30;
    @apply shadow-sm shadow-red-500/10;
  }

  .badge-medium {
    @apply inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium;
    @apply bg-amber-100 text-amber-700 border border-amber-200;
  }

  .dark .badge-medium {
    @apply bg-amber-500/20 text-amber-300 border-amber-500/30;
    @apply shadow-sm shadow-amber-500/10;
  }

  .badge-low {
    @apply inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium;
    @apply bg-green-100 text-green-700 border border-green-200;
  }

  .dark .badge-low {
    @apply bg-green-500/20 text-green-300 border-green-500/30;
    @apply shadow-sm shadow-green-500/10;
  }

  /* Premium Frosty Modal Styling */
  .modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center p-4;
    background: linear-gradient(135deg, rgba(73, 131, 124, 0.15) 0%, rgba(0, 0, 0, 0.5) 50%, rgba(73, 131, 124, 0.1) 100%);
    backdrop-filter: blur(12px) saturate(1.2);
    -webkit-backdrop-filter: blur(12px) saturate(1.2);
    animation: fadeIn 0.25s ease-out;
  }

  .dark .modal-overlay {
    background: linear-gradient(135deg, rgba(20, 184, 166, 0.08) 0%, rgba(0, 0, 0, 0.75) 50%, rgba(13, 148, 136, 0.05) 100%);
    backdrop-filter: blur(16px) saturate(1.3);
    -webkit-backdrop-filter: blur(16px) saturate(1.3);
  }

  .modal-content {
    @apply relative rounded-3xl p-8 max-w-lg w-full;
    max-height: 85vh;
    overflow-y: auto;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.85) 0%, rgba(240, 253, 250, 0.9) 50%, rgba(255, 255, 255, 0.8) 100%);
    backdrop-filter: blur(40px) saturate(1.5);
    -webkit-backdrop-filter: blur(40px) saturate(1.5);
    @apply border border-white/60;
    box-shadow:
      0 25px 50px -12px rgba(73, 131, 124, 0.25),
      0 0 0 1px rgba(255, 255, 255, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.8),
      inset 0 -1px 0 rgba(73, 131, 124, 0.1);
    animation: slideUp 0.35s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .dark .modal-content {
    background: linear-gradient(145deg, rgba(13, 78, 74, 0.65) 0%, rgba(20, 50, 48, 0.7) 50%, rgba(15, 100, 95, 0.55) 100%);
    backdrop-filter: blur(60px) saturate(1.8);
    -webkit-backdrop-filter: blur(60px) saturate(1.8);
    @apply border border-teal-400/25;
    box-shadow:
      0 30px 70px -15px rgba(0, 0, 0, 0.7),
      0 0 0 1px rgba(20, 184, 166, 0.15),
      inset 0 1px 0 rgba(45, 212, 191, 0.25),
      inset 0 -1px 0 rgba(0, 0, 0, 0.4),
      0 0 80px -20px rgba(20, 184, 166, 0.15);
  }

  .modal-header {
    @apply flex items-center justify-between mb-6 pb-4;
    @apply border-b border-patina-200/40;
  }

  .dark .modal-header {
    @apply border-b border-teal-600/30;
  }

  .modal-title {
    @apply text-2xl font-bold text-patina-800;
  }

  .dark .modal-title {
    @apply text-teal-50;
  }

  .modal-close-btn {
    @apply p-2.5 rounded-xl transition-all duration-200;
    @apply text-patina-500 hover:text-patina-700;
    @apply hover:bg-patina-100/70;
    @apply active:scale-95;
  }

  .dark .modal-close-btn {
    @apply text-teal-400 hover:text-teal-200;
    @apply hover:bg-teal-500/25;
  }

  /* Frosty Modal Input Styling */
  .modal-input {
    @apply w-full px-4 py-3.5 rounded-2xl;
    @apply text-patina-800 placeholder:text-patina-400;
    @apply transition-all duration-200;
    @apply focus:outline-none;
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(73, 131, 124, 0.2);
    box-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.02),
      0 1px 2px rgba(255, 255, 255, 0.8);
  }

  .modal-input:focus {
    background: rgba(255, 255, 255, 0.85);
    border-color: rgba(73, 131, 124, 0.5);
    box-shadow:
      0 0 0 3px rgba(73, 131, 124, 0.15),
      inset 0 2px 4px rgba(0, 0, 0, 0.02),
      0 4px 12px rgba(73, 131, 124, 0.1);
  }

  .dark .modal-input {
    @apply text-teal-100 placeholder:text-teal-400;
    background: rgba(13, 78, 74, 0.5) !important;
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid rgba(20, 184, 166, 0.3) !important;
    box-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.2),
      0 1px 0 rgba(20, 184, 166, 0.15);
    color-scheme: dark;
  }

  .dark .modal-input:focus {
    background: rgba(13, 78, 74, 0.6) !important;
    border-color: rgba(20, 184, 166, 0.5) !important;
    box-shadow:
      0 0 0 3px rgba(20, 184, 166, 0.2),
      inset 0 2px 4px rgba(0, 0, 0, 0.2),
      0 4px 16px rgba(20, 184, 166, 0.15);
  }

  /* Date/Time input dark mode fixes for Safari/WebKit */
  .dark .modal-input[type="date"],
  .dark .modal-input[type="time"],
  .dark .modal-input[type="datetime-local"] {
    background: rgba(13, 78, 74, 0.5) !important;
    color: #99f6e4 !important;
    border: 1px solid rgba(20, 184, 166, 0.3) !important;
    color-scheme: dark;
  }

  .dark .modal-input[type="date"]::-webkit-calendar-picker-indicator,
  .dark .modal-input[type="time"]::-webkit-calendar-picker-indicator,
  .dark .modal-input[type="datetime-local"]::-webkit-calendar-picker-indicator {
    filter: invert(1) sepia(1) saturate(3) hue-rotate(135deg) brightness(1.2);
    cursor: pointer;
    opacity: 0.9;
  }

  .dark .modal-input[type="date"]::-webkit-calendar-picker-indicator:hover,
  .dark .modal-input[type="time"]::-webkit-calendar-picker-indicator:hover,
  .dark .modal-input[type="datetime-local"]::-webkit-calendar-picker-indicator:hover {
    opacity: 1;
    filter: invert(1) sepia(1) saturate(3) hue-rotate(135deg) brightness(1.5);
  }

  /* Time/Date Preset Buttons */
  .preset-btn {
    @apply px-4 py-2.5 rounded-xl text-sm font-medium;
    @apply transition-all duration-200;
    @apply active:scale-95;
    background: rgba(255, 255, 255, 0.6);
    border: 1px solid rgba(73, 131, 124, 0.2);
    @apply text-patina-700;
    @apply hover:bg-white/80 hover:border-patina-300/50;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  }

  .preset-btn:hover {
    box-shadow: 0 4px 12px rgba(73, 131, 124, 0.15);
  }

  .preset-btn-active {
    background: linear-gradient(135deg, rgba(73, 131, 124, 0.9) 0%, rgba(20, 184, 166, 0.9) 100%) !important;
    @apply text-white border-transparent;
    box-shadow: 0 4px 15px rgba(73, 131, 124, 0.35);
  }

  .dark .preset-btn {
    background: rgba(13, 78, 74, 0.5);
    border: 1px solid rgba(20, 184, 166, 0.25);
    @apply text-teal-200;
    @apply hover:bg-teal-700/50 hover:border-teal-400/40;
  }

  .dark .preset-btn:hover {
    box-shadow: 0 4px 12px rgba(20, 184, 166, 0.25);
  }

  .dark .preset-btn-active {
    background: linear-gradient(135deg, rgba(20, 184, 166, 0.85) 0%, rgba(13, 148, 136, 0.95) 100%) !important;
    @apply text-white border-transparent;
    box-shadow: 0 4px 18px rgba(20, 184, 166, 0.5);
  }

  /* Custom checkbox styling */
  .custom-checkbox {
    @apply appearance-none w-5 h-5 rounded border-2 cursor-pointer transition-all duration-200;
    @apply border-patina-400 bg-white;
  }

  .custom-checkbox:checked {
    @apply bg-patina-500 border-patina-500;
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
    background-size: 100% 100%;
    background-position: center;
    background-repeat: no-repeat;
  }

  .dark .custom-checkbox {
    @apply border-teal-500 bg-teal-950;
  }

  .dark .custom-checkbox:checked {
    @apply bg-teal-500 border-teal-500;
  }

  .custom-checkbox:hover {
    @apply border-patina-500;
  }

  .dark .custom-checkbox:hover {
    @apply border-teal-400;
  }

  /* Legacy checkbox styling (non-custom) */
  input[type="checkbox"]:not(.custom-checkbox) {
    accent-color: #49837C; /* patina-500 */
    @apply cursor-pointer;
  }

  .dark input[type="checkbox"]:not(.custom-checkbox) {
    accent-color: #2dd4bf; /* teal-400 */
  }

  input[type="checkbox"]:checked {
    animation: checkboxWhoosh 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes checkboxWhoosh {
    0% {
      transform: scale(0.8);
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
    }
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
}

/* ===========================================
   UTILITY LAYER - ANIMATIONS & HELPERS
   =========================================== */

@layer utilities {
  /* Whoosh animation for task completion */
  @keyframes whoosh {
    0% {
      transform: scaleX(0);
      transform-origin: left;
      opacity: 0.5;
    }
    60% {
      transform: scaleX(1.05);
      opacity: 1;
    }
    100% {
      transform: scaleX(1);
      opacity: 1;
    }
  }

  .animate-whoosh {
    animation: whoosh 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* Fade in animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  /* Glow effect */
  .glow-teal {
    @apply shadow-lg shadow-teal-500/20;
  }

  .dark .glow-teal {
    @apply shadow-xl shadow-teal-500/40;
  }
}

/* ===========================================
   SPECIFIC COMPONENT STYLES
   =========================================== */

/* Text color overrides for dark mode */
.dark .text-patina-700,
.dark .text-patina-800,
.dark .text-patina-900 {
  @apply text-teal-100;
}

.dark .text-patina-600 {
  @apply text-teal-200;
}

.dark .text-patina-500 {
  @apply text-teal-300;
}

.dark .text-patina-400 {
  @apply text-teal-400;
}

/* Metric cards - for Analytics */
.metric-card {
  @apply glass-card p-6 card-hover;
}

/* Stat cards */
.stat-card {
  @apply glass-card p-6;
}

/* Task cards */
.task-card {
  @apply glass-card p-6 cursor-pointer;
  @apply hover:ring-2 hover:ring-patina-300/50;
}

.dark .task-card {
  @apply hover:ring-teal-500/40;
}

/* Calendar specific */
.calendar-day {
  @apply p-1 rounded-lg border border-patina-100/50;
  @apply transition-all duration-200;
  @apply hover:bg-patina-50/50 hover:border-patina-300;
  min-height: 0;
}

.dark .calendar-day {
  @apply border-teal-700/30;
  @apply hover:bg-teal-500/10 hover:border-teal-500/40;
}

.calendar-day-today {
  @apply border-2 border-teal-500 bg-teal-50;
}

.dark .calendar-day-today {
  @apply bg-teal-500/20 border-teal-500;
  @apply shadow-lg shadow-teal-500/20;
}

/* Notification panel */
.notification-panel {
  @apply glass-card p-0 w-80 max-w-sm;
  @apply animate-fade-in;
}

.notification-item {
  @apply p-4 border-b border-gray-100 last:border-0;
  @apply transition-colors duration-200;
  @apply hover:bg-patina-50;
}

.dark .notification-item {
  @apply border-teal-800/20;
  @apply hover:bg-teal-500/5;
}

/* FAB (Floating Action Button) */
.fab {
  @apply fixed bottom-8 right-8 w-16 h-16;
  @apply bg-gradient-to-br from-patina-500 to-teal-600;
  @apply text-white rounded-2xl shadow-xl;
  @apply flex items-center justify-center;
  @apply transition-all duration-300;
  @apply hover:scale-110 hover:shadow-2xl hover:shadow-patina-500/30;
  @apply active:scale-95;
  @apply z-50;
}

.dark .fab {
  @apply from-teal-500 to-patina-600;
  @apply shadow-xl shadow-teal-500/30;
  @apply hover:shadow-2xl hover:shadow-teal-500/50;
}

/* Progress bars */
.progress-bar {
  @apply h-2 rounded-full;
  @apply bg-gradient-to-r from-teal-400 to-patina-500;
  @apply animate-whoosh;
  transition: width 0.5s ease-out;
}

.progress-bar-bg {
  @apply h-2 rounded-full bg-patina-100;
}

.dark .progress-bar-bg {
  @apply bg-teal-900/30;
}

/* Profile ring */
.profile-ring {
  @apply rounded-full ring-2 ring-patina-300 ring-offset-2;
}

.dark .profile-ring {
  @apply ring-teal-500/50 ring-offset-gray-950;
}

/* Glass button */
.glass-button {
  @apply px-6 py-3 rounded-xl;
  @apply bg-white/80 backdrop-blur-md border border-patina-200;
  @apply text-patina-700 font-medium;
  @apply transition-all duration-200;
  @apply hover:bg-white hover:shadow-lg;
  @apply active:scale-95;
}

.dark .glass-button {
  @apply bg-teal-500/10 backdrop-blur-md border-teal-600/30;
  @apply text-teal-200;
  @apply hover:bg-teal-500/20 hover:border-teal-500/50;
}

/* Input fields */
.input {
  @apply w-full px-4 py-3 rounded-xl;
  @apply bg-white border border-patina-200;
  @apply text-patina-900 placeholder:text-patina-400;
  @apply transition-all duration-200;
  @apply focus:border-patina-500 focus:ring-2 focus:ring-patina-200;
  @apply focus:outline-none;
}

.dark .input {
  @apply bg-teal-950/30 backdrop-blur-sm border-teal-700/40;
  @apply text-teal-100 placeholder:text-teal-500/50;
  @apply focus:border-teal-500 focus:ring-teal-500/20;
}

/* Chart containers */
.chart-container {
  @apply rounded-2xl p-6;
}

/* Calendar tiles dark mode fix - ensure dark: variants take precedence */
/* Using attribute selectors to match elements with both bg-white and dark:bg-teal classes */
.dark [class*="bg-white/7"][class*="dark:bg-teal-8"] {
  background-color: rgb(17 94 89 / 0.4) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.dark [class*="bg-white/6"][class*="dark:bg-teal-8"] {
  background-color: rgb(17 94 89 / 0.5) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.dark [class*="bg-white/9"][class*="dark:bg-teal-7"] {
  background-color: rgb(15 118 110 / 0.6) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.dark [class*="bg-white/5"][class*="dark:bg-teal-9"] {
  background-color: rgb(19 78 74 / 0.4) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.dark [class*="bg-white/4"][class*="dark:bg-teal-8"] {
  background-color: rgb(17 94 89 / 0.4) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Empty calendar cells (days before 1st of month) - make more visible */
.dark [class*="bg-patina-50"][class*="dark:bg-teal-900/1"] {
  background-color: rgb(19 78 74 / 0.15) !important;
}

/* Additional patterns for consistency */
.dark [class*="bg-white/9"][class*="dark:bg-teal-9"] {
  background-color: rgb(19 78 74 / 0.4) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* View switcher container - bg-white/60 dark:bg-teal-900/40 */
.dark [class*="bg-white/6"][class*="dark:bg-teal-9"] {
  background-color: rgb(19 78 74 / 0.4) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Event cards dark mode fixes */
/* Google event cards - bg-blue-100 dark:bg-blue-800/50 */
.dark [class*="bg-blue-100"][class*="dark:bg-blue-8"] {
  background-color: rgb(30 64 175 / 0.5) !important;
}

/* Regular event cards - bg-patina-100 dark:bg-teal-700/50 */
.dark [class*="bg-patina-100"][class*="dark:bg-teal-7"] {
  background-color: rgb(15 118 110 / 0.5) !important;
}

/* Button backgrounds - bg-blue-50 dark:bg-blue-900/30 */
.dark [class*="bg-blue-50"][class*="dark:bg-blue-9"] {
  background-color: rgb(30 58 138 / 0.3) !important;
}

/* Task cards - bg-amber-100/60 dark:bg-amber-800/30 */
.dark [class*="bg-amber-100"][class*="dark:bg-amber-8"] {
  background-color: rgb(146 64 14 / 0.3) !important;
}

/* Task cards - bg-blue-100/60 dark:bg-blue-800/40 */
.dark [class*="bg-blue-100/6"][class*="dark:bg-blue-8"] {
  background-color: rgb(30 64 175 / 0.4) !important;
}

/* Select dropdowns */
.dark select {
  @apply bg-teal-950/30 border-teal-700/40 text-teal-100;
}

/* Buttons */
.dark button {
  @apply transition-all duration-200;
}

/* Better text contrast in dark mode */
.dark .text-gray-600 {
  @apply text-teal-300;
}

.dark .text-gray-500 {
  @apply text-teal-400;
}

.dark .text-gray-400 {
  @apply text-teal-500;
}

/* AGGRESSIVE DARK MODE OVERRIDES */
/* These override ALL inline styles to ensure dark mode works everywhere */

.dark div[class*="bg-gradient"],
.dark div[class*="from-patina"],
.dark div[class*="from-white"],
.dark div[class*="via-white"],
.dark div[class*="to-patina"] {
  background: transparent !important;
}

/* Don't override elements with explicit dark: classes */
.dark .bg-white:not([class*="dark:"]) {
  background-color: transparent !important;
}

.dark .bg-gray-50:not([class*="dark:"]),
.dark .bg-gray-100:not([class*="dark:"]) {
  background-color: rgba(17, 24, 39, 0.3) !important;
}

.dark .bg-gray-200:not([class*="dark:"]) {
  background-color: rgba(31, 41, 55, 0.4) !important;
}

/* Specific fix for settings fields */
.dark div[class*="dark:!bg-teal"] {
  background-color: inherit !important;
}

/* Override all borders in dark mode */
.dark .border-gray-200,
.dark .border-gray-300 {
  border-color: rgba(15, 118, 110, 0.3) !important;
}

.dark .border-patina-100,
.dark .border-patina-200 {
  border-color: rgba(15, 118, 110, 0.2) !important;
}

/* Fix ALL background gradients in dark mode */
.dark [class*="from-patina"],
.dark [class*="from-white"],
.dark [class*="via-white"],
.dark [class*="via-patina"],
.dark [class*="to-patina"],
.dark [class*="to-white"] {
  background: transparent !important;
}

/* Input and form elements dark mode */
.dark input[type="text"],
.dark input[type="email"],
.dark input[type="password"],
.dark input[type="time"],
.dark input[type="date"],
.dark input[type="datetime-local"],
.dark textarea,
.dark select {
  @apply bg-teal-950/30 border-teal-700/40 text-teal-100;
  @apply placeholder:text-teal-500/50;
  color-scheme: dark;
}

.dark input[type="text"]:focus,
.dark input[type="email"]:focus,
.dark input[type="password"]:focus,
.dark input[type="time"]:focus,
.dark input[type="date"]:focus,
.dark input[type="datetime-local"]:focus,
.dark textarea:focus,
.dark select:focus {
  @apply border-teal-500 ring-teal-500/20;
}

/* Tab buttons dark mode - only for non-gradient buttons */
.dark button[class*="text-patina"]:not([class*="text-white"]) {
  @apply text-teal-300;
}

/* Note: Removed .dark button[class*="bg-patina"] override as it was breaking
   gradient buttons with text-white (like Create Event button) */

/* Universal card styling in dark mode */
.dark div[class*="rounded-"],
.dark div[class*="shadow-"] {
  transition: all 0.3s ease;
}

/* Note: Elements should define their own dark mode backgrounds using Tailwind's dark: variant
   e.g., bg-white/70 dark:bg-teal-800/40
   Avoid using global !important overrides as they interfere with component-level styling */


/* Fix text colors that might be using patina in dark mode */
.dark span[class*="text-patina-7"],
.dark span[class*="text-patina-8"],
.dark span[class*="text-patina-9"],
.dark p[class*="text-patina-7"],
.dark p[class*="text-patina-8"],
.dark p[class*="text-patina-9"],
.dark h1[class*="text-patina"],
.dark h2[class*="text-patina"],
.dark h3[class*="text-patina"],
.dark h4[class*="text-patina"],
.dark h5[class*="text-patina"],
.dark h6[class*="text-patina"] {
  color: rgb(204, 251, 241) !important; /* teal-100 */
}

.dark span[class*="text-patina-5"],
.dark span[class*="text-patina-6"],
.dark p[class*="text-patina-5"],
.dark p[class*="text-patina-6"] {
  color: rgb(153, 246, 228) !important; /* teal-200 */
}

/* Button Classes */
.btn-primary {
  @apply bg-gradient-to-br from-patina-500 to-teal-600 text-white;
  @apply hover:from-patina-600 hover:to-teal-700;
  @apply active:scale-95 transition-all duration-200;
  @apply font-medium shadow-lg;
}

.dark .btn-primary {
  background: linear-gradient(135deg, rgb(20, 184, 166) 0%, rgb(13, 148, 136) 100%) !important;
  @apply hover:from-teal-400 hover:to-teal-500;
  @apply shadow-teal-400/40;
}

/* Modal primary button - ensure visibility in dark mode */
.dark button[class*="from-patina"][class*="text-white"],
.dark button[class*="from-teal"][class*="text-white"] {
  background: linear-gradient(135deg, rgb(20, 184, 166) 0%, rgb(13, 148, 136) 100%) !important;
}

.btn-secondary {
  @apply bg-white/60 backdrop-blur-sm border border-patina-200/50;
  @apply text-patina-700;
  @apply hover:bg-white/80 hover:border-patina-300/60;
  @apply active:scale-95 transition-all duration-200;
  @apply font-medium;
}

.dark .btn-secondary {
  @apply bg-teal-950/30 border-teal-700/40;
  @apply text-teal-200;
  @apply hover:bg-teal-950/50 hover:border-teal-600/50;
}

/* ========================================
   UI/UX ENHANCEMENTS
   ======================================== */

/* 1. Empty State Styling */
.empty-state {
  @apply flex flex-col items-center justify-center py-2 text-center;
  @apply text-patina-500;
}

.dark .empty-state {
  @apply text-teal-400;
}

.empty-state-icon {
  @apply w-6 h-6 mb-1.5 opacity-50;
}

.dark .empty-state-icon {
  @apply opacity-60;
}

.empty-state-text {
  @apply text-[10px] font-medium;
  opacity: 0.7;
}

.dark .empty-state-text {
  @apply text-teal-400;
  opacity: 0.85;
}

/* 2. Loading Skeleton Animation */
@keyframes skeleton-pulse {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.7; }
}

.skeleton {
  @apply rounded-lg animate-pulse;
  background: linear-gradient(90deg,
    rgba(73, 131, 124, 0.1) 0%,
    rgba(73, 131, 124, 0.2) 50%,
    rgba(73, 131, 124, 0.1) 100%);
  background-size: 200% 100%;
  animation: skeleton-pulse 1.5s ease-in-out infinite;
}

.dark .skeleton {
  background: linear-gradient(90deg,
    rgba(20, 184, 166, 0.1) 0%,
    rgba(20, 184, 166, 0.2) 50%,
    rgba(20, 184, 166, 0.1) 100%);
}

/* 3. Enhanced Calendar Day Hover States */
.calendar-day {
  @apply transition-all duration-200 cursor-pointer;
  @apply hover:bg-patina-50/50 dark:hover:bg-teal-800/30;
  @apply hover:shadow-sm;
}

.calendar-day:hover {
  transform: translateY(-1px);
}

.calendar-day-content {
  @apply transition-all duration-200;
}

.calendar-day:hover .calendar-day-content {
  @apply scale-[1.02];
}

/* 4. Today Indicator - Static style (no animation) */
.today-indicator {
  @apply relative;
}

.today-cell {
  @apply relative;
  box-shadow: inset 0 0 0 2px rgba(59, 130, 246, 0.4);
}

.dark .today-cell {
  box-shadow: inset 0 0 0 2px rgba(45, 212, 191, 0.4);
}

/* 5. Event Color Accessibility - Text Shadows */
.event-pill {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.dark .event-pill {
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
  font-weight: 600;
}

/* Calendar Event Cards - Dark Mode Enhanced Visibility */
.dark .event-card {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* Google synced events - stronger blue in dark mode */
.dark .event-card[class*="bg-blue-100"],
.dark [class*="bg-blue-100"][class*="dark:bg-blue-900"] {
  background: rgba(59, 130, 246, 0.35) !important;
  border: 1px solid rgba(59, 130, 246, 0.4);
}

.dark .event-card[class*="bg-blue-100"]:hover,
.dark [class*="bg-blue-100"][class*="dark:bg-blue-900"]:hover {
  background: rgba(59, 130, 246, 0.5) !important;
}

/* Local events - stronger teal in dark mode */
.dark .event-card[class*="bg-patina-100"],
.dark [class*="bg-patina-100"][class*="dark:bg-teal-800"] {
  background: rgba(20, 184, 166, 0.3) !important;
  border: 1px solid rgba(20, 184, 166, 0.35);
}

.dark .event-card[class*="bg-patina-100"]:hover,
.dark [class*="bg-patina-100"][class*="dark:bg-teal-800"]:hover {
  background: rgba(20, 184, 166, 0.45) !important;
}

/* Task cards in calendar - stronger amber/blue in dark mode */
.dark [class*="bg-amber-100"][class*="dark:bg-amber-900"] {
  background: rgba(245, 158, 11, 0.25) !important;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.dark [class*="bg-blue-100/60"][class*="dark:bg-blue-900"] {
  background: rgba(59, 130, 246, 0.3) !important;
  border: 1px solid rgba(59, 130, 246, 0.35);
}

/* Ensure readable text on colored backgrounds */
.event-text-light {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.event-text-dark {
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.1);
}

/* 6. Keyboard Navigation Focus Rings */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  @apply focus:ring-patina-500 dark:focus:ring-teal-400;
  @apply focus:ring-offset-white dark:focus:ring-offset-gray-900;
}

/* Enhanced focus for calendar elements */
.calendar-day:focus-visible {
  @apply outline-none ring-2 ring-patina-500 dark:ring-teal-400;
  @apply ring-offset-2 ring-offset-white dark:ring-offset-gray-900;
  @apply z-10;
}

button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  @apply outline-none ring-2 ring-patina-500 dark:ring-teal-400;
  @apply ring-offset-2 ring-offset-white dark:ring-offset-gray-900;
}

/* 7. View Transition Animations */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out forwards;
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out forwards;
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out forwards;
}

/* Staggered animation delays for lists */
.stagger-1 { animation-delay: 0.05s; }
.stagger-2 { animation-delay: 0.1s; }
.stagger-3 { animation-delay: 0.15s; }
.stagger-4 { animation-delay: 0.2s; }
.stagger-5 { animation-delay: 0.25s; }

/* View switch animation */
.view-transition {
  @apply transition-all duration-300 ease-out;
}

/* Calendar grid animation */
.calendar-grid-enter {
  animation: fade-in 0.2s ease-out;
}

/* Calendar Event Styling - Clean Dedicated Classes */
.calendar-event-google {
  @apply bg-blue-100/90 text-blue-800;
  @apply hover:bg-blue-200;
  border-left: 3px solid;
}

.dark .calendar-event-google {
  background: rgba(59, 130, 246, 0.4) !important;
  @apply text-white;
  border: 1px solid rgba(96, 165, 250, 0.5);
  border-left-width: 3px;
}

.dark .calendar-event-google:hover {
  background: rgba(59, 130, 246, 0.55) !important;
}

.calendar-event-local {
  @apply bg-patina-100/90 text-patina-800;
  @apply hover:bg-patina-200;
  border-left: 3px solid;
}

.dark .calendar-event-local {
  background: rgba(20, 184, 166, 0.35) !important;
  @apply text-white;
  border: 1px solid rgba(45, 212, 191, 0.4);
  border-left-width: 3px;
}

.dark .calendar-event-local:hover {
  background: rgba(20, 184, 166, 0.5) !important;
}

/* Calendar Task Styling */
.calendar-task-synced {
  @apply bg-blue-100/80 text-blue-700;
  border-left: 3px solid;
}

.dark .calendar-task-synced {
  background: rgba(59, 130, 246, 0.35) !important;
  @apply text-white;
  border: 1px solid rgba(96, 165, 250, 0.4);
  border-left-width: 3px;
}

.calendar-task-local {
  @apply bg-amber-100/80 text-amber-800;
  border-left: 3px solid;
}

.dark .calendar-task-local {
  background: rgba(245, 158, 11, 0.3) !important;
  @apply text-amber-100;
  border: 1px solid rgba(251, 191, 36, 0.4);
  border-left-width: 3px;
}

/* Event card hover lift */
.event-card {
  @apply transition-all duration-200;
}

.event-card:hover {
  transform: translateY(-2px);
  @apply shadow-lg;
}

/* Smooth number transitions */
.calendar-number {
  @apply transition-all duration-150;
}

.calendar-number:hover {
  @apply scale-110;
}

/* ========================================
   ADDITIONAL UI POLISH ANIMATIONS
   ======================================== */

/* Slide in from top animation (for bulk action bars, etc.) */
@keyframes slide-in-from-top {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-in {
  animation-duration: 0.3s;
  animation-timing-function: ease-out;
  animation-fill-mode: both;
}

.slide-in-from-top-2 {
  animation-name: slide-in-from-top;
}

/* Pulse glow effect for progress bars on completion */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(20, 184, 166, 0);
  }
  50% {
    box-shadow: 0 0 12px 4px rgba(20, 184, 166, 0.4);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Bounce subtle for completed tasks */
@keyframes bounce-subtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-3px);
  }
}

.animate-bounce-subtle {
  animation: bounce-subtle 0.3s ease-out;
}

/* Scale pop animation for button clicks */
@keyframes scale-pop {
  0% {
    transform: scale(0.95);
  }
  50% {
    transform: scale(1.02);
  }
  100% {
    transform: scale(1);
  }
}

.animate-scale-pop {
  animation: scale-pop 0.2s ease-out;
}

/* Shimmer effect for loading states */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.shimmer {
  background: linear-gradient(
    90deg,
    rgba(73, 131, 124, 0.1) 0%,
    rgba(73, 131, 124, 0.2) 20%,
    rgba(73, 131, 124, 0.1) 40%,
    rgba(73, 131, 124, 0.1) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s linear infinite;
}

.dark .shimmer {
  background: linear-gradient(
    90deg,
    rgba(20, 184, 166, 0.1) 0%,
    rgba(20, 184, 166, 0.2) 20%,
    rgba(20, 184, 166, 0.1) 40%,
    rgba(20, 184, 166, 0.1) 100%
  );
  background-size: 200% 100%;
}

/* Smooth card entrance for lists */
@keyframes card-enter {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-card-enter {
  animation: card-enter 0.3s ease-out forwards;
}

/* Success checkmark animation */
@keyframes checkmark-draw {
  0% {
    stroke-dashoffset: 50;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

.animate-checkmark {
  stroke-dasharray: 50;
  animation: checkmark-draw 0.3s ease-out forwards;
}

/* Hover lift effect for cards */
.hover-lift {
  @apply transition-all duration-200;
}

.hover-lift:hover {
  transform: translateY(-2px);
  @apply shadow-lg;
}

/* Active press effect */
.active-press:active {
  transform: scale(0.98);
}

/* Focus visible ring for accessibility */
.focus-ring-visible:focus-visible {
  @apply outline-none ring-2 ring-patina-500 dark:ring-teal-400 ring-offset-2;
}
